#pragma once
#include <vector>
#include "Grid.h"

class GameOfLife {
private:
    Grid& grid; // Ссылка на сетку, чтобы избежать копирования
    std::vector<Grid> history; // Хранение истории состояний
    bool isToroidal = true;

    int countLiveNeighbors(int x, int y) const;
    int countLiveNeighborsWorld(int x, int y) const;
    void saveCurrentState();
public:
    GameOfLife(Grid& g);
    void nextGeneration();
    void previousGeneration();
    void updateGridReference(Grid& newGrid) { grid = newGrid; } // метод для обновления ссылки
    void setWoldToroidal(bool wt) { isToroidal = wt; };
    bool getWoldToroidal() { return isToroidal; };
};