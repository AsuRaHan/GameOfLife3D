# Game of Life 3D

![Game of Life 3D](.github/preview_image.png)

![Game of Life 3D](.github/preview_image2.png)

## Обзор

**Game of Life 3D** - это визуализация классической игры "Жизнь" Конвея в 3D с использованием OpenGL. Проект позволяет пользователям исследовать динамику клеточных автоматов в интерактивной среде, где вы можете вращать, перемещать камеру и взаимодействовать с клетками.

Данный проект расширяет классический клеточный автомат "Жизнь" в 3D. Клетки существуют на сетке, где их жизнь или смерть в каждом поколении зависит от количества соседних клеток. Версия включает в себя:

- **3D Визуализация**: Отображение сетки и клеток в трёхмерном пространстве.
- **Взаимодействие с пользователем**: Управление симуляцией, движение камеры и изменение состояния клеток.
- **Рендеринг OpenGL**: Использование современных методов OpenGL для достижения высокой производительности.

## Основные функции

- **3D визуализация**: Игра отображается в трехмерном пространстве, где клетки представлены на плоскости.
- **Интерактивное управление**:
  - **Навигация камеры**: Используйте клавиши WSAD для перемещения камеры, мышь для вращения (средняя кнопка мыши).
  - **Изменение состояния клеток**: Левая кнопка мыши позволяет переключать состояние клеток (живые/мертвые).
- **Цветная клеточная сетка**: Клетки могут иметь разные цвета в зависимости от их состояния и типа.
- **Управление симуляцией**:
  - **Запуск/остановка**: Пробел для управления симуляцией.
  - **Пошаговое выполнение**: Стрелки вправо/влево для перехода к следующему/предыдущему поколению.
- **Рандомизация сетки**: Клавиша 'R' для случайного заполнения поля.


## Установка

Для настройки и запуска проекта:

1. **Необходимые условия**:
   - Операционная система Windows
   - Visual Studio с инструментами для разработки на C++
   - Библиотеки и заголовочные файлы OpenGL

2. **Установка**:
	- git clone --recursive https://github.com/AsuRaHan/GameOfLife3D.git
	- cd GameOfLife3D`
	- git submodule update --init --recursive`

3. **Обновление репозитория и подмодулей:**
	- Перейдите в вашу директорию проекта
	- git pull origin main
	- git submodule update --recursive --remote

4. **Сборка**:
	- Откройте проект в Visual Studio.
	- Настройте для разработки на Windows с поддержкой OpenGL.
	- Соберите решение.

5. **Запуск**:
   - Запустите собранное приложение.
   - Так же можно передать параметры в комендной строке что бы указать размер игрового поля, по умолчанию 200x200 `life.exe -gridWidth 200 -gridHeight 150` смотрите пример в [run_life.bat](run_life.bat)
	
## Возможности

- **Управление симуляцией**:
  - Запуск/Остановка симуляции
  - Пошаговое продвижение по поколениям
  - Возврат к предыдущим поколениям

- **Управление камерой в 3D**:
  - Панорамирование, масштабирование

- **Управление сеткой**:
  - Инициализация сетки случайными клетками
  - Изменение состояния отдельных клеток мышкой

## Используемые технологии

- **C++** для основной логики и механики игры
- **OpenGL** для визуализации
- **Windows API** для управления окнами и обработки событий
- **ImGuiI** для пользовательского интерфейса

## Структура проекта

- **./game**: Основная логика игры
  - `Cell.h`, `Cell.cpp` - Реализация класса клетки
  - `Grid.h`, `Grid.cpp` - Управление сеткой
  - `GameOfLife.h`, `GameOfLife.cpp` - Правила и логика игры
  - `GameController.h`, `GameController.cpp` - Управление состоянием игры
  - `GPUAutomaton.h`, `GPUAutomaton.cpp` - Клеточный автомат использующий для ресчета GPU
  - `GameStateManager.h`, `GameStateManager.cpp` - Управление загрузкой и сохранением мира

- **./rendering**: Код, связанный с рендерингом
  - `Camera.h`, `Camera.cpp` - Управление камерой для 3D вида
  - `Renderer.h`, `Renderer.cpp` - Логика рендеринга в OpenGL

- **./mathematics**: Математические утилиты
  - `Matrix4x4.h`, `Matrix4x4.cpp` - Операции с матрицами (на данный момент не используется)
  - `Vector3d.h`, `Vector3d.cpp` - Операции с векторами

- **./windowing**: Управление окнами и вводом
  - `MainWindow.h`, `MainWindow.cpp` - Создание окна и базовая обработка событий
  - `WindowController.h`, `WindowController.cpp` - Обработка событий
  - `GridPicker.h`, `GridPicker.cpp` - Обработка кликов по сетке (игровому полю)

- **./system**: Настройка системы и OpenGL
  - `OpenGLInitializer.h`, `OpenGLInitializer.cpp` - Инициализация контекста OpenGL
  - `GLFunctions.h`, `GLFunctions.cpp` - Загрузка функций OpenGL

- **main.cpp**: Точка входа приложения

## Управление

- **Пробел**: Запуск/остановка симуляции.
- **Клавиша '+' на нумпаде**: Уведичить скорость симуляции.
- **Клавиша '-' на нумпаде**: Уменьшить скорость симуляции.
- **Правая стрелка**: Шаг вперёд, **Левая стрелка**: Шаг назад. *Колличесто шагов назад ограничено в 100 шагов.*
- **Колесико мыши**: Масштабирование (зум).
- **Правый клик и перетаскивание**: Перемещение камеры.
- **WSAD**: Перемещение камеры вперед, назад, влево, вправо.
- **T**: Сброс камеры, чтобы весь игровой мир был виден.
- **R**: Случайное заполнение поля.
- **C**: Очистка поля, убить всех.
- **I**: Заполнить поле случайным числом глайдеров.
- **G**: Спрятать или показать сетку.
- **Y**: Сменить тип мира `сетка с ограниченными краями или с тороидальными краями`.
- **ЛКМ**: Изменение состояния клетки под курсором.
- **СКМ (клик колесиком мышы)**: Добавить фигуру из предустановленных петтернов(шаблонов).
- **Клавиши от 1 до 9**: Выбор различных предустановленных паттернов для размещения на поле:
  - **1**: Глайдер
  - **2**: Мигалка (Blinker)
  - **3**: Живок (Toad)
  - **4**: Баржа (Beacon)
  - **5**: Маятник (Pentadecathlon)
  - **6**: Ружье Госпера (Gosper Glider Gun)
  - **7**: Перевернутое ружье Госпера
  - **8**: Вертикальное ружье Госпера 
  - **9**: Перевернутое вертикальное ружье Госпера.

## Известные проблемы

- Производительность может ухудшаться на очень больших сетках из-за сложности 3D визуализации.

## Будущие улучшения

- Реализация различных наборов правил для "Жизни".
- Добавление дополнительных интерактивных элементов управления для изменения размера сетки, размера клетки и т.д.
- Оптимизация рендеринга для лучшей производительности на больших сетках или более сложных узорах.

---

Не стесняйтесь сообщать о любых проблемах или предлагать улучшения!
   - Если вы хотите внести свой вклад, пожалуйста:
   - Создайте форк репозитория.
   - Сделайте изменения в своей копии.
   - Отправьте pull request с описанием изменений.
   - Связатся со мной вы можете в телеграмм [@AsuRaHan](https://t.me/AsuRaHan)

## Лицензия

Этот проект находится под [лицензией MIT](LICENSE).
